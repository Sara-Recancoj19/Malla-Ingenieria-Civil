<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Malla Ingeniería Civil</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#f4f6f8;
  margin:20px;
}
h1{text-align:center}

.grid{
  display:flex;
  gap:12px;
  overflow-x:auto;
}

.semestre{
  background:white;
  border-radius:10px;
  padding:10px;
  min-width:240px;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
}

.semestre h3{
  text-align:center;
  margin:5px 0 10px;
}

.curso{
  border-radius:8px;
  padding:8px;
  margin-bottom:8px;
  cursor:pointer;
}

.aprobado{background:#c7f0d6}
.normal{background:#ffd6d6}

.badge{
  background:#ffd54f;
  border-radius:12px;
  padding:2px 6px;
  font-size:11px;
}

small{font-size:12px}
</style>
</head>

<body>

<h1>Malla Curricular – Ingeniería Civil</h1>

<div class="grid" id="grid"></div>

<script>
const STORAGE_KEY = "civil_malla_ok";

const obligatorios = new Set([
"3005","3003","3000","3001","3004","3011","3006","3007","3161","3162",
"3013","3014","3163","3164","3166","3021","3022","3025","3090","3167",
"3170","3031","3171","3172","3028","3040","3179","3180","3181","3182",
"3183","3186","3187","3188","3189","3194","3195","3197","3198","3200",
"3202","3203","3204","3206","3208","3209","3211","3214","3215","3216",
"3218","3219","3221","3223"
]);

const cursos = [
{"codigo":"3005","nombre":"Técnicas de Estudio e Investigación","creditos":3,"semestre":1},
{"codigo":"3003","nombre":"Área Social Humanística 1","creditos":3,"semestre":1},
{"codigo":"3000","nombre":"Área Matemática Básica 1","creditos":9,"semestre":1},
{"codigo":"3001","nombre":"Química General 1","creditos":7,"semestre":1},
{"codigo":"3004","nombre":"Área Técnica Complementaria 1","creditos":4,"semestre":1},
{"codigo":"3082","nombre":"Deportes 1","creditos":2,"semestre":1},

{"codigo":"3011","nombre":"Área Social Humanística 2","creditos":3,"semestre":2},
{"codigo":"3006","nombre":"Matemática Básica 2","creditos":9,"semestre":2},
{"codigo":"3007","nombre":"Física Básica","creditos":5,"semestre":2},
{"codigo":"3161","nombre":"Química para Ingeniería Civil","creditos":6,"semestre":2},
{"codigo":"3162","nombre":"Dibujo Constructivo","creditos":6,"semestre":2},

{"codigo":"3013","nombre":"Matemática Intermedia 1","creditos":9,"semestre":3},
{"codigo":"3014","nombre":"Física 1","creditos":5,"semestre":3},
{"codigo":"3163","nombre":"Ecología","creditos":4,"semestre":3},
{"codigo":"3164","nombre":"Prácticas Iniciales","creditos":0,"semestre":3},
{"codigo":"3019","nombre":"Ética Profesional","creditos":2,"semestre":3},

{"codigo":"3166","nombre":"Topografía 1","creditos":7,"semestre":4},
{"codigo":"3021","nombre":"Matemática Intermedia 2","creditos":6,"semestre":4},
{"codigo":"3022","nombre":"Matemática Intermedia 3","creditos":6,"semestre":4},
{"codigo":"3025","nombre":"Mecánica Analítica","creditos":4,"semestre":4},
{"codigo":"3090","nombre":"Estadística 1","creditos":5,"semestre":4},

{"codigo":"3031","nombre":"Resistencia de Materiales 1","creditos":5,"semestre":5},
{"codigo":"3171","nombre":"Materiales de Construcción 1","creditos":6,"semestre":5},
{"codigo":"3172","nombre":"Mecánica de Fluidos","creditos":5,"semestre":5},
{"codigo":"3028","nombre":"Matemática Aplicada","creditos":5,"semestre":5},

{"codigo":"3040","nombre":"Resistencia de Materiales 2","creditos":5,"semestre":6},
{"codigo":"3181","nombre":"Mecánica de Suelos","creditos":5,"semestre":6},
{"codigo":"3182","nombre":"Hidráulica","creditos":5,"semestre":6},
{"codigo":"3183","nombre":"Ingeniería Económica","creditos":4,"semestre":6},

{"codigo":"3187","nombre":"Análisis Estructural","creditos":5,"semestre":7},
{"codigo":"3188","nombre":"Concreto Armado 1","creditos":5,"semestre":7},
{"codigo":"3189","nombre":"Hidrología","creditos":6,"semestre":7},

{"codigo":"3195","nombre":"Vías Terrestres 2","creditos":4,"semestre":8},
{"codigo":"3197","nombre":"Concreto Armado 2","creditos":5,"semestre":8},
{"codigo":"3198","nombre":"Cimentaciones 1","creditos":4,"semestre":8},

{"codigo":"3208","nombre":"Diseño Estructural 1","creditos":6,"semestre":9},
{"codigo":"3209","nombre":"Cimentaciones 2","creditos":4,"semestre":9},
{"codigo":"3211","nombre":"Evaluación de Proyectos","creditos":5,"semestre":9},

{"codigo":"3214","nombre":"Puentes","creditos":5,"semestre":10},
{"codigo":"3215","nombre":"Diseño Estructural 2","creditos":6,"semestre":10},
{"codigo":"3221","nombre":"Prácticas Finales","creditos":0,"semestre":10}
];

let aprobados = new Set(JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]"));

function render(){
  const grid = document.getElementById("grid");
  grid.innerHTML="";

  [...new Set(cursos.map(c=>c.semestre))].forEach(s=>{
    const col=document.createElement("div");
    col.className="semestre";
    col.innerHTML=`<h3>Semestre ${s}</h3>`;

    cursos.filter(c=>c.semestre===s).forEach(c=>{
      const d=document.createElement("div");
      d.className="curso "+(aprobados.has(c.codigo)?"aprobado":"normal");
      d.innerHTML=`
        <strong>${c.codigo}</strong> ${c.nombre}<br>
        <small>${c.creditos} créditos ${obligatorios.has(c.codigo)?'<span class="badge">✔</span>':''}</small>
      `;
      d.onclick=()=>{
        if(aprobados.has(c.codigo)) aprobados.delete(c.codigo);
        else aprobados.add(c.codigo);
        localStorage.setItem(STORAGE_KEY, JSON.stringify([...aprobados]));
        render();
      };
      col.appendChild(d);
    });

    grid.appendChild(col);
  });
}

render();
</script>

</body>
</html>
